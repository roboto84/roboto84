<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SSH Server Banner | roboto84</title>
  <meta name="description" content="Having fun with SSH server banners.">

  <link rel="shortcut icon" href="/static/img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/static/css/main.css" media="all">
</head>
<body>
  
<nav class="navbar">
  <div class="navbar__inner">
    <a class="navbar__logo" title="logo" href="/">
      <div class="navbar__logo-container">
        <div class="avatar">
            <img src="/static/img/avatar_small.webp" alt="">
        </div>
        <div class="navbar__logo-title">
          <div>roboto84</div>
        </div>
      </div>
    </a>
    <div class="navbar__mobile-options">

      <div class="navbar__button dark-toggle" role="button" aria-label="toggle dark theme">
        <img src="/static/img/moon.svg" alt="">
      </div>

      <button class="navbar__button navbar__hamburger" aria-expanded="false" aria-label="toggle menu">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#333333">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
        </svg>
      </button>
    </div>

    <div class="navbar__links">
      
        <a class="navbar__link " href="/">
          home
        </a>
        <a class="navbar__link " href="/pages/about/">
          about
        </a>
        <a class="navbar__link " href="/posts/">
          blog
        </a>
        <a class="navbar__link " href="/pages/projects/">
          projects
        </a>
        <a class="navbar__link " href="/pages/reading/">
          reading
        </a>

      <a href="https://github.com/roboto84" target="_blank">
        <button class="navbar__button navbar__github" aria-label="github link">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-github" viewBox="0 0 16 18">
            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
          </svg>
        </button>
      </a>

      <div class="navbar__button dark-toggle" aria-label="toggle dark theme">
        <img src="/static/img/moon.svg" alt="">
      </div>

    </div>
  </div>

  <div class="navbar__mobile-links">
    
      <a class="navbar__mobile-link " href="/">
        home
      </a>
      <a class="navbar__mobile-link " href="/pages/about/">
        about
      </a>
      <a class="navbar__mobile-link " href="/posts/">
        blog
      </a>
      <a class="navbar__mobile-link " href="/pages/projects/">
        projects
      </a>
      <a class="navbar__mobile-link " href="/pages/reading/">
        reading
      </a>
    
      <a class="navbar__mobile-link " href="https://github.com/roboto84" target="_blank">
          github
      </a>
  </div>

</nav>

  
<div class="container-sm">
  <h2>SSH Server Banner</h2>
  <p>17 Jul, 2022</p>
  <h3>Introduction</h3>
<p>Lets talk about your SSH server banner, and the fact that you don't have one... just yet.</p>
<div class="image_container">
  <img class="console_gif img_shadow" src="/static/img/ssh_banner.gif" alt="SSH server banner">
</div>
<p>No worries, that was me not too long ago.  It is easy to configure, but the first question to ask before you do anything is an existential consideration of the matter...</p>
<div class="image_container">
  <img  class="meme img_shadow" title="You were so preoccupied with whether or not you could... you never stopped to think if you should" src="https://i.imgflip.com/6nf2u1.jpg" alt="You were so preoccupied with whether or not you could... you never stopped to think if you should" data-align="center">
</div>
<p>Well, there are a few reasons to have one:</p>
<ul>
<li>As a security warning to anyone attempting to log into a server you administer.</li>
<li>To establish the terms and conditions upon which the server can be used.</li>
<li>To present the user with any information that doesn't require a password and should be public knowledge (i.e. branding).</li>
<li>Dare I say, server ricing ğŸ˜ (Don't know what ricing is? Check out the term here: <a href="https://jie-fang.github.io/blog/basics-of-ricing">The Basics of Ricing Linux</a>).</li>
</ul>
<p>If you have concluded to proceed, then let us begin.</p>
<h3>Procedure</h3>
<h5>1. Edit sshd_config</h5>
<ul>
<li>
<p>Open the server's SSH configuration file</p>
<pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">vi</span> /etc/ssh/sshd_config</code></pre>
</li>
<li>
<p>Change the following line</p>
<pre class="language-shell"><code class="language-shell"><span class="token comment">#Banner none</span></code></pre>
<p>to</p>
<pre class="language-shell"><code class="language-shell">Banner /etc/issue</code></pre>
<p>and save the file.</p>
<p>This will activate a banner on an SSH login attempt.  The path of the file given can be any of your choosing. (In this example, the standard path of <code>/etc/issue</code> is used.)</p>
</li>
</ul>
<h5>2. Edit Banner File</h5>
<ul>
<li>
<p>Open the banner file</p>
<pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">vi</span> /etc/issue</code></pre>
<p>and inject the banner that you'd like to be presented on a login attempt.</p>
<p>The banner file <strong>could</strong> be a great place to use some ASCII art. I have the following example banner on one of my staging servers:</p>
<pre class="language-shell"><code class="language-shell">----------------------------------------------------<br>  â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—<br>  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘<br>  â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘<br>  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘<br>  â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•<br>   â•šâ•â•â•â•šâ•â•â• â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â•  â•šâ•â•â•â•šâ•â•â•<br>----------------------------------------------------<br> Staging Server <span class="token operator">|</span> Welcome, be mindful and have fun<span class="token operator">!</span><br>----------------------------------------------------</code></pre>
<p>For some ASCII text art, check out <a href="https://textkool.com/en/ascii-art-generator?hl=default&amp;vl=default&amp;font=ANSI%20Shadow&amp;text=Your%20text%20here%20">ASCII art generator | TextKool</a>. (I'm a sucker for the ANSI Shadow look ğŸ˜‹)</p>
</li>
</ul>
<h5>3. Restart SSHD</h5>
<ul>
<li>
<p><strong>âš ï¸ WARNING</strong>: In order for the changes to take effect, the SSH service will need to be restarted. In modern systems this will not disconnect your connection, but on older systems it might. Assure you did not make any mistakes on your SSH config file or the SSH service may <strong>fail</strong> to restart, and you may struggle to get back into your server.</p>
</li>
<li>
<p>Validate your <code>sshd_config</code> file</p>
<pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> sshd -t</code></pre>
<p>If no errors appear, you <strong>should</strong> be good to go.  Check this link out for more information on checking your SSH configuration file: <a href="https://www.simplified.guide/ssh/test-config">How to check SSH server's configuration validity</a></p>
</li>
<li>
<p>Restart the SSH service</p>
<pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">service</span> sshd restart</code></pre>
</li>
<li>
<p>Check that the SSH service was restarted, loaded, and active</p>
<pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">service</span> sshd status</code></pre>
</li>
<li>
<p>At this point, everything should be good to go. Logout and attempt a login to see your new banner.</p>
</li>
</ul>
<h3>Conclusion</h3>
<p>With this procedure we have discussed the considerations for a SSH server banner, how to activate it and implement it. Here are some other useful links on the matter:</p>
<ul>
<li>
<p><a href="https://www.tecmint.com/ssh-warning-banner-linux/">How to Set a Custom SSH Warning Banner and MOTD in Linux</a></p>
</li>
<li>
<p><a href="https://www.shellhacks.com/setup-warning-message-banner-ssh/">HowTo: Set a Warning Message (Banner) in SSH - ShellHacks</a></p>
</li>
</ul>
<p>Enjoy your cool new banner... ğŸ˜ if it is subjectively cool.</p>

  <hr>
  
    <b>Tags: </b>
    
      
    
      
        <a href="/tags/ssh">ssh</a>, 
      
    
      
        <a href="/tags/server">server</a>
      
    
  
  <section>
    <a href="/">&larr; Back home</a>
  </section>
</div>

  <footer class="footer">
  &copy; 2022 roboto84.dev
</footer>

  <script>
    const ham = document.querySelector('.navbar__hamburger')
    const menu = document.querySelector('.navbar__mobile-links')
    const darkToggleButtons = document.querySelectorAll('.dark-toggle')
    const projectsFolderSelectorButtons = document.querySelectorAll('.project-folder-button')

    ham.addEventListener('click', () => {
      menu.classList.toggle('navbar__mobile-links--open')

      let prevState = JSON.parse(ham.getAttribute('aria-expanded'))
      ham.setAttribute('aria-expanded', !prevState)
    })

    function changeDarkToggleBtnIcon () {
      darkToggleButtons.forEach(btn => {
        if (btn.querySelector('img').src.indexOf('/static/img/moon.svg') !== -1) {
          btn.querySelector('img').src = "/static/img/sun.svg"
        } else {
          btn.querySelector('img').src = "/static/img/moon.svg"
        }
      })
    }

    if (localStorage.THEME === 'DARK' || (window.matchMedia &&
            window.matchMedia('(prefers-color-scheme: dark)').matches && localStorage.THEME !== 'LIGHT')) {
      document.body.classList.add('dark')
      changeDarkToggleBtnIcon()
    }

    darkToggleButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        changeDarkToggleBtnIcon()

        if (document.body.classList.contains('dark')) {
          document.body.classList.remove('dark')
          localStorage.THEME = 'LIGHT'
        } else {
          document.body.classList.add('dark')
          localStorage.THEME = 'DARK'
        }

      })
    })

    projectsFolderSelectorButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        projectsFolderSelectorButtons.forEach(btn => {
          btn.classList.remove('active')
        })
        btn.classList.add('active')
        console.log(btn.innerText)
        document.getElementById('apps').style.display = 'none'
        document.getElementById('chat').style.display = 'none'
        document.getElementById('services').style.display = 'none'
        document.getElementById('tools').style.display = 'none'
        document.getElementById(btn.innerText.toLowerCase()).style.display = 'inherit'
      })
    })
  </script>
</body>
</html>
