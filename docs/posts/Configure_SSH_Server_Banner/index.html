<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Configure SSH Server Banner | roboto84 - Full-Stack Developer</title><meta name="description" content="Having fun with SSH server banners."><link rel="preload" href="/static/css/fonts/RoboSapien.woff2" as="font" type="font/woff2" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/main.css" media="all"><link rel="shortcut icon" href="/static/img/favicon.ico" type="image/x-icon"></head><body><nav class="navbar"><div class="navbar__inner"><a class="navbar__logo" title="roboto84" href="/"><div class="navbar__logo-container"><div class="avatar"><img title="Avatar" width="150" height="150" src="/static/img/avatar_small.webp" alt=""></div></div><div id="header_logo" class="navbar__logo-title"><h3><span class="title_wrapper">#</span> roboto84</h3></div></a><div class="navbar__mobile-options"><div class="navbar__button navbar__button_border dark-toggle" data-theme="light" role="button" aria-label="toggle dark theme"></div><div title="toggle menu" class="navbar__button navbar__button_border navbar__hamburger" role="button" aria-expanded="false" aria-label="toggle menu"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#333333"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></div></div><div class="navbar__links"><a class="navbar__link" href="/">home </a><a class="navbar__link" href="/pages/about/">about </a><a class="navbar__link" href="/posts/">blog </a><a class="navbar__link" href="/pages/projects/">projects </a><a class="navbar__link" href="/pages/reading/">reading </a><a href="https://github.com/roboto84" target="_blank"><div class="navbar__button navbar__github" title="github link" role="button" aria-label="github link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-github" viewBox="0 0 16 18"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></div></a><div class="navbar__button_border"><div class="navbar__button dark-toggle" data-theme="light" role="button" aria-label="toggle dark theme"></div></div></div></div><div class="navbar__mobile-links"><a href="/"><div class="navbar__mobile-link">home</div></a><a href="/pages/about/"><div class="navbar__mobile-link">about</div></a><a href="/posts/"><div class="navbar__mobile-link">blog</div></a><a href="/pages/projects/"><div class="navbar__mobile-link">projects</div></a><a href="/pages/reading/"><div class="navbar__mobile-link">reading</div></a><a href="https://github.com/roboto84" target="_blank"><div class="navbar__mobile-link">github</div></a></div></nav><div class="container-sm"><div class="post_header"><div><h2>Configure SSH Server Banner</h2><p>17 Jul, 2022</p></div><div class="image_container"><div class="post_header_image"><img width="300" height="300" class="meme img_shadow" title="Article Image" src="/static/img/posts/ssh_banner.webp" alt="Article Image" data-align="center"></div></div></div><div class="post"><h3 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h3><p>Let's talk about your SSH server banner, and the fact that you don't have one... just yet.</p><div class="image_container"><img class="console_gif img_shadow" src="/static/img/posts/ssh_banner.gif" alt="SSH Server Banner Demo Animation"></div><p>No worries, that was me not too long ago. It is easy to configure, but the first question to ask before you do anything is an existential consideration of the matter...</p><div class="image_container"><img class="meme img_shadow" title="You were so preoccupied with whether or not you could... you never stopped to think if you should" src="https://i.imgflip.com/6nf2u1.jpg" alt="You never stopped to think if you should Jurassic Park Meme" data-align="center"></div><p>Well, there are a few reasons to have one:</p><ul><li>As a security warning to anyone attempting to log into a server you administer.</li><li>To establish the terms and conditions upon which the server can be used.</li><li>To present the user with any information that doesn't require a password and should be public knowledge (i.e. branding).</li><li>Dare I say, server ricing 😏 (Don't know what ricing is? Check out the term here: <a href="https://jie-fang.github.io/blog/basics-of-ricing">The Basics of Ricing Linux</a>).</li></ul><p>If you have concluded to proceed, then let us begin.</p><h3 id="procedure" tabindex="-1">Procedure <a class="header-anchor" href="#procedure"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h3><h5 id="1.-edit-sshd_config" tabindex="-1">1. Edit sshd_config <a class="header-anchor" href="#1.-edit-sshd_config"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h5><ul><li><p>Open the server's SSH configuration file</p><pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">vi</span> /etc/ssh/sshd_config</code></pre></li><li><p>Change the following line</p><pre class="language-shell"><code class="language-shell"><span class="token comment">#Banner none</span></code></pre><p>to</p><pre class="language-shell"><code class="language-shell">Banner /etc/issue</code></pre><p>and save the file.</p><p>This will activate a banner on an SSH login attempt. The path of the file given can be any of your choosing. (In this example, the standard path of <code>/etc/issue</code> is used.)</p></li></ul><h5 id="2.-edit-banner-file" tabindex="-1">2. Edit Banner File <a class="header-anchor" href="#2.-edit-banner-file"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h5><ul><li><p>Open the banner file</p><pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">vi</span> /etc/issue</code></pre><p>and inject the banner that you'd like to be presented on a login attempt.</p><p>The banner file <strong>could</strong> be a great place to use some ASCII art. I have the following example banner on one of my staging servers:</p><pre class="language-shell"><code class="language-shell">----------------------------------------------------<br>  ██╗    ██╗██╗██╗     ██╗      ██████╗ ██╗    ██╗<br>  ██║    ██║██║██║     ██║     ██╔═══██╗██║    ██║<br>  ██║ █╗ ██║██║██║     ██║     ██║   ██║██║ █╗ ██║<br>  ██║███╗██║██║██║     ██║     ██║   ██║██║███╗██║<br>  ╚███╔███╔╝██║███████╗███████╗╚██████╔╝╚███╔███╔╝<br>   ╚══╝╚══╝ ╚═╝╚══════╝╚══════╝ ╚═════╝  ╚══╝╚══╝<br>----------------------------------------------------<br> Staging Server <span class="token operator">|</span> Welcome, be mindful and have fun<span class="token operator">!</span><br>----------------------------------------------------</code></pre><p>For some ASCII text art, check out <a href="https://textkool.com/en/ascii-art-generator?hl=default&amp;vl=default&amp;font=ANSI%20Shadow&amp;text=Your%20text%20here%20">ASCII art generator | TextKool</a>. (I'm a sucker for the ANSI Shadow look 😋)</p></li></ul><h5 id="3.-restart-sshd" tabindex="-1">3. Restart SSHD <a class="header-anchor" href="#3.-restart-sshd"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h5><ul><li><p><strong>⚠️ WARNING</strong>: In order for the changes to take effect, the SSH service will need to be restarted. In modern systems this will not disconnect your connection, but on older systems it might. Assure you did not make any mistakes on your SSH config file or the SSH service may <strong>fail</strong> to restart, and you may struggle to get back into your server.</p></li><li><p>Validate your <code>sshd_config</code> file</p><pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> sshd -t</code></pre><p>If no errors appear, you <strong>should</strong> be good to go. Check this link out for more information on checking your SSH configuration file: <a href="https://www.simplified.guide/ssh/test-config">How to check SSH server's configuration validity</a></p></li><li><p>Restart the SSH service</p><pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">service</span> sshd restart</code></pre></li><li><p>Check that the SSH service was restarted, loaded, and active</p><pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">service</span> sshd status</code></pre></li><li><p>At this point, everything should be good to go. Logout and attempt a login to see your new banner.</p></li></ul><h3 id="conclusion" tabindex="-1">Conclusion <a class="header-anchor" href="#conclusion"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h3><p>With this procedure we have discussed the considerations for a SSH server banner, how to activate it and implement it. Here are some other useful links on the matter:</p><ul><li><p><a href="https://www.tecmint.com/ssh-warning-banner-linux/">How to Set a Custom SSH Warning Banner and MOTD in Linux</a></p></li><li><p><a href="https://www.shellhacks.com/setup-warning-message-banner-ssh/">HowTo: Set a Warning Message (Banner) in SSH - ShellHacks</a></p></li></ul><p>Enjoy your cool new banner... 😏 if it is subjectively cool.</p></div><hr><b>Tags: </b><a class="tag" href="/tags/ssh">ssh</a> <a class="tag" href="/tags/server">server</a><section><a href="/"><i class="arrow left"></i> Back home</a></section></div><footer class="footer">&copy; 2022 roboto84.dev</footer><script>const heroTitleOptions=["A Life Worth Debugging","Iterating through Life's Arrays"],lightPic="/static/img/about/about_me_light.webp",darkPic="/static/img/about/about_me_dark.webp",heroTitleElement=document.getElementById("hero_title"),heroDescription=document.getElementById("hero_description"),aboutMePic=document.getElementById("about_me_pic");let heroText=heroTitleOptions[Math.floor(10*Math.random())%2];function randMs(){return 100+Math.floor(1e3*Math.random())%125}function heroTyping(e,t,o){if(o<heroText.length){const t=o+1;e.innerText=String(e.innerText).concat(heroText[o]),setTimeout((()=>{heroTyping(heroTitleElement,heroText,t)}),randMs())}else heroDescription.classList.add("visible")}heroTitleElement&&setTimeout((()=>{heroTyping(heroTitleElement,heroText,0)}),1e3);const moonSvg='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#333333"><rect fill="none" height="24" width="24"/><path d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg>',sunSvg='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#ffffff"><rect fill="none" height="24" width="24"/><path d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg>',darkToggleButtons=document.querySelectorAll(".dark-toggle");function changeDarkToggleBtnIcon(){let e="light";darkToggleButtons.forEach((t=>{"light"===t.getAttribute("data-theme")?(t.innerHTML=moonSvg,t.setAttribute("data-theme","dark"),e="light"):(t.innerHTML=sunSvg,t.setAttribute("data-theme","light"),e="dark")})),aboutMePic&&(aboutMePic.src="light"===e?lightPic:darkPic)}"DARK"===localStorage.THEME||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&"LIGHT"!==localStorage.THEME?(document.body.classList.add("dark"),darkToggleButtons.forEach((e=>{e.innerHTML=sunSvg,e.setAttribute("data-theme","light")})),aboutMePic&&(aboutMePic.src=darkPic)):(darkToggleButtons.forEach((e=>{e.innerHTML=moonSvg,e.setAttribute("data-theme","dark")})),aboutMePic&&(aboutMePic.src=lightPic)),setTimeout((()=>{document.getElementById("header_logo").classList.add("smooth_ease");document.getElementsByTagName("body")[0].classList.add("smooth_ease");const e=document.querySelector(".navbar__hamburger"),t=document.querySelector(".navbar__mobile-links");e.addEventListener("click",(()=>{t.classList.toggle("navbar__mobile-links--open");let o=JSON.parse(e.getAttribute("aria-expanded"));e.setAttribute("aria-expanded",String(!o))})),darkToggleButtons.forEach((e=>{e.addEventListener("click",(()=>{changeDarkToggleBtnIcon(),document.body.classList.contains("dark")?(document.body.classList.remove("dark"),localStorage.THEME="LIGHT"):(document.body.classList.add("dark"),localStorage.THEME="DARK")}))}));Array.from(document.getElementsByTagName("button")).forEach((e=>{e.classList.add("smooth_ease")}));const o=document.querySelectorAll(".project-folder-button");o.forEach((e=>{e.addEventListener("click",(()=>{o.forEach((e=>{e.classList.remove("active")})),e.classList.add("active"),console.log(e.innerText),document.getElementById("apps").style.display="none",document.getElementById("chat").style.display="none",document.getElementById("services").style.display="none",document.getElementById("tools").style.display="none",document.getElementById(e.innerText.toLowerCase()).style.display="inherit"}))}))}),250);</script></body></html>